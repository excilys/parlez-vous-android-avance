<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="Exercices de la formation Parlez-Vous Android ?">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Parlez-vous Android Avancé - Exercices</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
</head>
<body>
    <div class="masthead">
        <div class="container lead">
            <h1>Parlez-vous Android ?</h1>
            <p>Cours avancé: Android par la pratique.</p>
            <p class="excilys"><span>by</span> <a href="http://www.excilys.com/">Excilys</a></p> 
        </div>
    </div>
    <div class="container">
        <div class="row-fluid">
            <section id="exercice1">
                <h1>Exercice 1 - Les Fragments</h1>
                <p>Le but de cet exercice est de comprendre comment travailler avec les fragments. Vous allez devoir créer une activité qui contient deux fragments, et les faire interagir: quand on clique sur un bouton du second fragment, le premier fragment doit changer d'image</p>
		<div class="media">
                    <img class="media-object pull-left" src="img/exo1.1.png" width="220px" />
                    <img class="pull-left" src="img/exo1.2.png" width="330px" />
                    <div class="media-body">
                        <p>Indications:</p>
                        <ul>

	                    <li><strong>ImageViewerFragment</strong> est un fragment définit par le fichier <strong>fragment_image_viewer.xml</strong> dont le layout contiendra un ViewSwitcher</li>
 			    <li><strong>NavigationFragment</strong> est un fragment définit par le fichier <strong>fragment_navigation.xml</strong> dont le layout contiendra contiendra un bouton</li>
                            <li>Utiliser la méthode <strong>setOnClickListener()</strong> sur le bouton</li>
                            <li>Vous pouvez utiliser un <strong>ViewSwitcher</strong> pour passer d'un élément A à un élément B</li>
                            <li>Récupérer le ViewSwitcher dans la classe ImageViewerFragment, et instancier deux ImageViews avec des ressources que vous mettrez dans le dossier /res/drawable du projet. Vous pourrez ensuite binder ces vues au ViewSwitcher via la méthode viewSwitcher.addView()</li>			
                        </ul>
                    </div>
                        <p>Une bonne façon de commencer est de d'abord mettre en place vos layouts avec les fragments et vérifier qu'ils s'affichent bien. Par la suite, c'est une bonne pratique de déclarer une interface dans le fragment, et de l'implémenter dans l'activité pour qu'elle effectue les actions que vous voulez. (cf cours)</p>
                </div>
            </section>
            <section id="exercice2.1">
                <h1>Exercice 2.1 - File System</h1>
                <p>Le but de cette exercice est de prendre en main le fonctionnement du système de fichiers d'android.</p>
                <div class="media">
                    <img class="media-object" src="img/exo3.1.png" />
                    <div class="media-body">
                        <p>Indications:</p>
                        <ul>
                            <li>Dans un premier temps, montez l'image sdcard.img dans votre Virtual Device (me demander le fichier)</li>
                            <li>Partie 1: Créer une méthode permettant de lire récursivement le contenu du répertoire Music, et afficher dans la console</li>
			    <li>Partie 2: Créer une méthode renvoyant une List&lt;String&gt; contenant les chemins absolus des <strong>images</strong> du répertoire Music (et sous répertoires)</li>
			    <li>Pour vous aider, le script ci-dessous est la fonction récursive de parcours de répertoire</li>
			</ul>
                    </div>
<div id="showCode1"><h4><strong>Voir le code</strong></h4></div>
<div id="hidden1" style="display: none;">
			<script src="https://gist.github.com/loicortola/458442fbd9603065c128.js"></script>
</div>
                </div>
	    </section>
	    <section id="exercice2.2">
                <h1>Exercice 2.2 - File System</h1>
                <p>Il s'agira maintenant d'appliquer vos connaissances sur le projet précédent.</p>
                <div class="media">
                    <div class="media-body">
                    	<p>Vous allez reprendre l'exercice 1 en ajoutant les images de façon dynamique (c'est à dire que vous allez lire les images du répertoire Music de la carte sd de votre appareil, et toutes les ajouter à votre fragment)</p>
                        <p>Indications:</p>
			<ul>
      			    <li>Changer le ViewSwitcher avec un ViewFlipper (qui peut gérer plus de deux images)</li>
      			    <li>Modifier la méthode créée en Exo2 Partie 2 et renvoyer une List&lt;Bitmap&gt; qui vous servira à instancier les vues</li>
			    <li>Peupler cette liste à l'aide d'une AsyncTask</li>
			    <li>Utiliser la méthode <strong>file.getAbsolutePath()</strong> pour instancier vos bitmaps</li>
			    <li>Utiliser la méthode <strong>setImageBitmap()</strong> pour insérer la bitmap dans la vue imageView</li>
			    <li>Utiliser le code ci dessous qui contient un squelette de votre AsyncTask</li>
			</ul>			    
                    </div>
<div id="showCode2"><h4><strong>Voir le code</strong></h4></div>
<div id="hidden2" style="display: none;">
<script src="https://gist.github.com/loicortola/73455cca39a0ee4ba0aa.js"></script>
</div>
                </div>
	    </section>
 	    <section id="exercice3">
                <h1>Exercice 3 - Multimédia</h1>
                <p>Le but de cette exercice est d'implémenter les fonctionnalités de base du media player d'android (play/pause) dans le projet précédent</p>
                <div class="media">
                    <div class="media-body">
                        <p>Indications:</p>
                        <ul>
                            <li>Dans un premier temps, créez un objet AudioPlayer. Ce sera l'objet métier qui pilotera le média player. Une bonne API pour cet objet est la suivante: </li>
<div id="showCode3"><h4><strong>Voir le code</strong></h4></div>
<div id="hidden3" style="display: none;">
<script src="https://gist.github.com/jeremiemartinez/6936644.js"></script>
</div>
			    <li>Vous allez devoir passer la liste de fichiers audio à votre audioPlayer</li>
			    <li>N'oubliez pas de gérer l'AudioFocus (cf cours) pour ne pas perturber l'utilisation du téléphone</li>
			    <li>Ajoutez un bouton Play dans votre NavigationFragment pour gérer le média player</li>
				<li>A chaque clic sur le bouton, une nouvelle musique est jouée.</li>
				<li>Pour bien associer un fichier audio à une pochette, nous allons créer l'objet AudioFileWrapper suivant:</li>
<div id="showCode4"><h4><strong>Voir le code</strong></h4></div>
<div id="hidden4" style="display: none;">
<script src="https://gist.github.com/jeremiemartinez/7004347.js"></script>
</div>
    <li>Votre scanner de fichiers doit maintenant ressembler au code suivant:</li>
<div id="showCode5"><h4><strong>Voir le code</strong></h4></div>
<div id="hidden5" style="display: none;">
<script src="https://gist.github.com/loicortola/d15e1d385d38a1cb65f5.js"></script>
</div>
			</ul>
                    </div>
                </div>
	    </section>
	    <section id="exercice4.1">
                <h1>Exercice 4.1 - Services</h1>
                <p>Le but de cette exercice est de comprendre le fonctionnement du cycle de vie d'un service et de remplacer l'AsyncTask utilisée pour loader les images/musiques.</p>
                <div class="media">
                    <div class="media-body">
                        <p>Indications:</p>
                        <ul>
                            <li>Créer un Service dans un nouveau projet (Cf cours)</li>
                            <li>Etudiez son cycle de vie en loggant les évenements: onCreate, onStart, onDestroy, ...</li>
							<li>Réutiliser les méthodes crées dans l'AsyncTask et implémenter le loading des images/musiques.</li>
						</ul>
                    </div>
                </div>
           </section>
	    <section id="exercice6">
                <h1>Exercice 5 - Animations</h1>
                <p>Vous allez dynamiser votre interface en utilisant les animations</p>
                <div class="media">
                    <img class="media-object pull-left" src="img/exo6.1.png" width="220px" />
                    <div class="media-body">
                        <p>Indications:</p>
                        <ul>
                            <li>Créer un animation set dans un fichier xml contenant au moins une translation, une rotation, une alpha, et une scale.</li>
                            <li>Utiliser des interpolators, des durées différentes, des opérations successives et d'autres simultanées.</li>
			    <li>Créer une activité avec un bouton centré, et l'animer lors du clic (en utilisant la méthode <strong>view.startAnimation()</strong>)</li>
			</ul>
                    </div>
                </div>
	    </section>
<section>
			<h1>Bonus</h1>
			Utiliser les animations dans votre ViewFlipper ;)
		</section>
<section id="exercice2">
                <h1>Exercice 6 - Téléphonie</h1>
                <p>Le but de cette exercice est de comprendre comment utiliser les intents standards liés à la téléphonie dans Android.</p>
                <div class="media">
                    <img class="media-object pull-left" src="img/exo2.1.png" width="220px" />
                    <div class="media-body">
                        <p>Indications:</p>
			<p>Pour cela, vous allez développer une application permettant de passer un appel en entrant le numéro dans un champ texte puis utiliser l'intent ACTION_CALL, ou l'intent ACTION_DIAL. Vous implémenterez ensuite un listeneur qui loggera les états de l'appel </p>
                        <ul>
                            <li>Documentation de l'intent <strong><a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_DIAL" target="_BLANK">ACTION_DIAL</a></strong></li>
                            <li>Documentation de l'intent <strong><a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_CALL" target="_BLANK">ACTION_CALL</a></strong></li>
                    </div>
                </div>
	    </section>
		
	    <section id="projet">
                <h1>Projet</h1>
                <p>Voici le cahier des charges du projet proposé:</p>
		<p>Vous avez commencé à créer un lecteur audio, qui a très peu de fonctionnalités. Le but du projet est de l'avancer et de lui donner davantage de fonctionnalités</p>
                <div class="media">
                    <img class="media-object pull-left" src="img/bang-head-here.jpg" width="220px" />
                    <div class="media-body">
                        <p>Obligatoire:</p>
                        <ul>
                            <li>Créer et implémenter deux boutons "suivant" et "précédent". Lorsque vous cliquerez dessus, il chargera la musique correspondante et affichera la couverture de l'album correspondante.</li>
                            <li>Dans le fragment ImageViewFragment, ajouter une TextView qui contiendra le nom de la piste (= le nom du fichier sans l'extension)</li>
			    <li>Ajouter une barre de progression qui affiche où on en est dans la piste courante (vous pouvez utiliser une SeekBar), et qui permet de changer la position courante dans la piste audio</li>
			</ul>
                        <p>Aller plus loin:</p>
                        <ul>
                            <li>Je secoue mon téléphone -> mélange les chansons</li>
                            <li>Un compteur de pistes (combien de chansons?)</li>
			    <li>Afficher une liste d'albums et lire un album en particulier</li>
			    <li>Ranking: Donnez une note (like dislike) par chanson et les faire remonter dans un classement</li>
			    <li>Les musiques sont taguées (donc elles ont de la métadata: nom de l'album, nom de l'artiste, nom de la chanson...): afficher ces informations de façon ergonomique
			    <li>Autre: Eclatez vous, faites nous rêver!</li>
			</ul>
                    </div>
                </div>
	    </section>
        </div>  

                <script src="js/bootstrap.min.js"></script>
                <script src="http://code.jquery.com/jquery-latest.js"></script>
		<script>
$( "#showCode1" ).click(function() {
  $("#hidden1").toggle( "slow", function() {
    // Animation complete.
  });
});

$( "#showCode2" ).click(function() {
  $("#hidden2").toggle( "slow", function() {
    // Animation complete.
  });
});

$( "#showCode3" ).click(function() {
  $("#hidden3").toggle( "slow", function() {
    // Animation complete.
  });
});

$( "#showCode4" ).click(function() {
  $("#hidden4").toggle( "slow", function() {
    // Animation complete.
  });
});

$( "#showCode5" ).click(function() {
  $("#hidden5").toggle( "slow", function() {
    // Animation complete.
  });
});
</script>
</body>
</html>
